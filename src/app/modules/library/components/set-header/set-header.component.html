<mat-card>
  <mat-card-title-group>
    <div *ngIf="!mySetsService.isEditMode; else temp">
      <mat-card-title class="text-highlight">
        {{mySetsService.activeSet.name}}</mat-card-title>
      <mat-card-subtitle>
        <label>
          <textarea matInput disabled rows="2" cols="35">{{mySetsService.activeSet.description}}</textarea>
        </label>
      </mat-card-subtitle>
    </div>
    <ng-template #temp>
      <div class="edit-title">
        <mat-card-title>
          <label>
            <input  maxlength="15" #title matInput placeholder="Edit me!">
          </label>
        </mat-card-title>
        <mat-card-subtitle>
          <label>
            <textarea #description matInput rows="2" cols="35" placeholder="Edit me!" maxlength="70"></textarea>
          </label>
        </mat-card-subtitle>
      </div>
    </ng-template>
    <div class="separator"></div>
    <div *ngIf="!mySetsService.isEditMode else normalMode">
      <button mat-button [routerLink]="[0]" [queryParams]="{playMode: 1}">
        <mat-icon>play_circle_outline</mat-icon>
      </button>
      <button mat-button (click)="startEdit()">
        <mat-icon>edit</mat-icon>
      </button>
    </div>
    <ng-template #normalMode>
      <div>
        <button mat-raised-button  (click)="onRemoveSet()" color="warn">
          <mat-icon>delete_forever</mat-icon>
        </button>
        <button mat-button (click)="finishEdit()">
          <mat-icon>check</mat-icon>
        </button>
      </div>
    </ng-template>
  </mat-card-title-group>
  <div class="img-container">
    <img mat-card-md-image alt=""
         (error)="this.$event.target.src = 'https://karateintsa.com/wp-content/uploads/2017/04/default-image-800x600.jpg'"
         [src]="mySetsService.getImageUrl(this.mySetsService.activeSet.imageId)"/>
    <div class="img-buttons-container" *ngIf="mySetsService.isEditMode">
      <button mat-icon-button color="accent" (click)="onRemoveImage()"><mat-icon>close</mat-icon></button>
      <button mat-icon-button color="accent" (click)="onEditImage()"><mat-icon>edit</mat-icon></button>
    </div>
  </div>

</mat-card>
